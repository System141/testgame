function animate() {
  try {
    // ...existing code...
    weapon.update();
    // ...existing code...
  } catch (error) {
    console.error("Error during animation:", error);
  }
  // ...existing code...
}
